<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>PNN EVENT APP</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="icon-192x192.png">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --brand-rosa: #F3D1D1; /* Pastell-Rosa */
            --bg-dark: #121212;
        }

        body {
            background: linear-gradient(180deg, #1a1a1a 0%, #000000 100%);
            color: #f3f4f6;
            font-family: 'Inter', sans-serif;
            margin: 0;
            min-height: 100vh;
        }

        /* Fester Header Balken */
        .sticky-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: calc(env(safe-area-inset-top) + 60px);
            background: rgba(18, 18, 18, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: flex;
            align-items: flex-end;
            justify-content: space-between;
            padding: 0 24px 15px 24px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        /* Inhalts-Container schiebt sich unter den Header */
        .main-content {
            padding-top: calc(env(safe-area-inset-top) + 80px);
            padding-bottom: 50px;
        }

        /* Kachel Design */
        .grid-tile {
            background-color: var(--brand-rosa);
            color: #4A3B3B; /* Dunklerer Text für Lesbarkeit auf Rosa */
            aspect-ratio: 1 / 1;
            border-radius: 24px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }
        .grid-tile:active { transform: scale(0.92); }
        .tile-text { font-size: 1.1rem; font-weight: 800; text-transform: uppercase; margin-top: 10px; letter-spacing: -0.02em; }

        /* Agenda Styling */
        details { background: rgba(255,255,255,0.05); border-radius: 18px; margin-bottom: 12px; }
        summary { padding: 18px; font-weight: 700; list-style: none; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
        .inner-content { padding: 15px; border-top: 1px solid rgba(255,255,255,0.1); }
        
        .star-btn { font-size: 1.4rem; padding: 5px; }
    </style>
</head>
<body>

    <div class="sticky-header">
        <button id="back-btn" onclick="showHome()" class="text-white opacity-0 transition-opacity duration-300">
            <i class="fas fa-chevron-left text-2xl"></i>
        </button>
        <div class="text-center">
            <span class="text-[10px] tracking-[0.4em] text-white/40 uppercase block">PNN Event</span>
            <span class="font-black italic text-lg uppercase tracking-tighter">FW27</span>
        </div>
        <div class="relative">
            <i class="fas fa-bell text-2xl text-white"></i>
            <div class="absolute -top-1 -right-1 bg-red-500 w-3 h-3 rounded-full border-2 border-black"></div>
        </div>
    </div>

    <div class="main-content px-6">
        
        <div id="home-view" class="grid grid-cols-2 gap-5">
            <button onclick="showView('agenda')" class="grid-tile">
                <i class="fas fa-calendar-day text-3xl"></i>
                <span class="tile-text">Agenda</span>
            </button>
            <button onclick="showView('my-agenda')" class="grid-tile">
                <i class="fas fa-star text-3xl"></i>
                <span class="tile-text">My Plan</span>
            </button>
            <button onclick="showView('workshop')" class="grid-tile">
                <i class="fas fa-lightbulb text-3xl"></i>
                <span class="tile-text">Workshop</span>
            </button>
            <button onclick="showView('gallery')" class="grid-tile">
                <i class="fas fa-camera-retro text-3xl"></i>
                <span class="tile-text">Gallery</span>
            </button>
            <button onclick="showView('transport')" class="grid-tile">
                <i class="fas fa-shuttle-van text-3xl"></i>
                <span class="tile-text">Transfer</span>
            </button>
            <button onclick="showView('run')" class="grid-tile">
                <i class="fas fa-running text-3xl"></i>
                <span class="tile-text">Run</span>
            </button>
            <button onclick="showView('feedback')" class="grid-tile">
                <i class="fas fa-heart text-3xl"></i>
                <span class="tile-text">Feedback</span>
            </button>
            <button onclick="showView('contact')" class="grid-tile">
                <i class="fas fa-user-friends text-3xl"></i>
                <span class="tile-text">Contact</span>
            </button>
        </div>

        <div id="detail-view" class="hidden">
            <h2 id="view-title" class="text-4xl font-black italic uppercase mb-8 text-white"></h2>
            <div id="view-content"></div>
        </div>

    </div>

    <script>
        let myAgenda = JSON.parse(localStorage.getItem('myAgenda')) || [];

        function showView(view) {
            document.getElementById('home-view').classList.add('hidden');
            document.getElementById('detail-view').classList.remove('hidden');
            document.getElementById('back-btn').classList.replace('opacity-0', 'opacity-100');
            
            const content = document.getElementById('view-content');
            const title = document.getElementById('view-title');
            content.innerHTML = '';

            if (view === 'agenda') {
                title.innerText = 'Agenda';
                for(let d=1; d<=4; d++) {
                    let dayHtml = `<details class="mb-4"><summary>TAG 0${d} <i class="fas fa-plus text-sm opacity-30"></i></summary><div class="inner-content">`;
                    for(let g=1; g<=6; g++) {
                        dayHtml += `<details class="mb-2"><summary class="text-sm text-white/60">Zielgruppe ${g}</summary><div class="inner-content space-y-4">`;
                        for(let i=1; i<=10; i++) {
                            const itemId = `T${d}-G${g}-P${i}`;
                            const isStarred = myAgenda.includes(itemId);
                            dayHtml += `
                                <div class="flex justify-between items-center bg-white/5 p-4 rounded-xl">
                                    <div>
                                        <p class="text-[10px] text-pink-300 font-bold uppercase">${08+i}:00 Uhr</p>
                                        <p class="font-bold">Session Punkt ${i}</p>
                                    </div>
                                    <button onclick="toggleStar('${itemId}')" id="star-${itemId}" class="star-btn ${isStarred ? 'text-yellow-400' : 'text-white/20'}">
                                        <i class="fas fa-star"></i>
                                    </button>
                                </div>`;
                        }
                        dayHtml += `</div></details>`;
                    }
                    dayHtml += `</div></details>`;
                    content.innerHTML += dayHtml;
                }
            } 
            
            else if (view === 'my-agenda') {
                title.innerText = 'My Plan';
                if(myAgenda.length === 0) {
                    content.innerHTML = '<div class="text-center py-20 opacity-30 italic">Noch keine Favoriten gewählt.</div>';
                } else {
                    myAgenda.sort().forEach(id => {
                        content.innerHTML += `<div class="p-5 mb-3 bg-white/5 rounded-2xl border-l-4 border-pink-300">
                            <p class="text-xs opacity-50 font-bold">${id}</p>
                            <p class="font-bold">Markierter Programmpunkt</p>
                        </div>`;
                    });
                }
            }

            else if (view === 'gallery') {
                title.innerText = 'Gallery';
                for(let d=1; d<=4; d++) {
                    content.innerHTML += `<details class="mb-4"><summary>TAG 0${d} FOTOS</summary><div class="inner-content grid grid-cols-2 gap-3">
                        <div class="aspect-square bg-white/10 rounded-xl"></div><div class="aspect-square bg-white/10 rounded-xl"></div>
                    </div></details>`;
                }
            }

            else if (view === 'contact') {
                title.innerText = 'Contact';
                const team = [{n:'Max Mustermann', r:'Lead Organizer'}, {n:'Anna Altkreis', r:'Shuttle Support'}, {n:'Rezeption', r:'Hotel Hilton'}];
                team.forEach(c => {
                    content.innerHTML += `<div class="bg-white/5 p-5 rounded-3xl mb-4 flex justify-between items-center">
                        <div><p class="font-bold text-lg">${c.n}</p><p class="text-sm opacity-50">${c.r}</p></div>
                        <div class="flex gap-3"><a href="tel:123" class="w-12 h-12 bg-white/10 rounded-full flex items-center justify-center"><i class="fas fa-phone"></i></a>
                        <a href="mailto:x@y.com" class="w-12 h-12 bg-white/10 rounded-full flex items-center justify-center"><i class="fas fa-envelope"></i></a></div>
                    </div>`;
                });
            }

            else if (view === 'run') {
                title.innerText = 'Morning Run';
                content.innerHTML = `<div class="bg-white/5 p-6 rounded-3xl"><p class="font-bold text-pink-300 mb-2">07:00 UHR LOBBY</p><p class="opacity-70">5km lockere Runde durch Budapest. Alle Pace-Gruppen willkommen!</p></div>`;
            }

            else if (view === 'workshop') {
                title.innerText = 'Workshops';
                content.innerHTML = `<div class="bg-white/5 p-6 rounded-3xl mb-4"><p class="font-bold">Workshop A: Future of AI</p><p class="text-sm opacity-50">Raum "Hilton 1" | 14:00 Uhr</p></div>`;
            }

            else if (view === 'transport') {
                title.innerText = 'Transfer';
                content.innerHTML = `<div class="bg-white/5 p-6 rounded-3xl"><p class="font-bold">Airport Shuttle</p><p class="text-sm opacity-50">Abfahrt alle 30 Min. am Haupteingang.</p></div>`;
            }

            else if (view === 'feedback') {
                title.innerText = 'Feedback';
                content.innerHTML = `<div class="bg-white/5 p-8 rounded-3xl space-y-6">
                    <div><p class="mb-3 font-bold">Wie war das Essen?</p><div class="flex gap-4 text-2xl"><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i></div></div>
                    <div><p class="mb-3 font-bold">War die Orga verständlich?</p><textarea class="w-full bg-white/5 rounded-xl p-4 border border-white/10" placeholder="Dein Feedback..."></textarea></div>
                    <button class="w-full bg-white/10 py-4 rounded-xl font-bold uppercase">Senden</button>
                </div>`;
            }
        }

        function toggleStar(id) {
            const index = myAgenda.indexOf(id);
            const btn = document.getElementById('star-'+id);
            if(index > -1) {
                myAgenda.splice(index, 1);
                btn.classList.replace('text-yellow-400', 'text-white/20');
            } else {
                myAgenda.push(id);
                btn.classList.replace('text-white/20', 'text-yellow-400');
            }
            localStorage.setItem('myAgenda', JSON.stringify(myAgenda));
        }

        function showHome() {
            document.getElementById('home-view').classList.remove('hidden');
            document.getElementById('detail-view').classList.add('hidden');
            document.getElementById('back-btn').classList.replace('opacity-100', 'opacity-0');
            window.scrollTo(0,0);
        }
    </script>
</body>
</html>
